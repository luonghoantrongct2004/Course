@model User
<div class="page-content">
    <div class="container">
        <div class="row">

            <div class="col-xl-3 col-lg-3 theiaStickySidebar">
                <div class="settings-widget dash-profile">
                    <div class="settings-menu">
                        <div class="profile-bg">
                            <div class="profile-img">
                                <a href="/profile/account"><img src="~/assets/img/user/user16.jpg" alt="Img"></a>
                            </div>
                        </div>
                        <div class="profile-group">
                            <div class="profile-name text-center">
                                <h4><a href="/profile/account">@Model.FullName</a></h4>
                                
                            </div>
                        </div>
                    </div>
                </div>
                <div class="settings-widget account-settings">
                    <div class="settings-menu">
                        <h3>Tổng quát</h3>
                        <ul>
                            <li class="nav-item">
                                <a href="/profile" class="nav-link">
                                    <i class="bx bxs-tachometer"></i>Dashboard
                                </a>
                            </li>
                            <li class="nav-item active">
                                <a href="/profile/account" class="nav-link">
                                    <i class="bx bxs-user"></i>Thông tin cá nhân
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/profile/courseprofile" class="nav-link">
                                    <i class="bx bxs-graduation"></i>Khóa học đã mua
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/home/StudentExam" class="nav-link">
                                    <i class="bx bxs-shapes"></i>Bài thi
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/profile/historyOrder" class="nav-link">
                                    <i class="bx bxs-cart"></i>Lịch sử mua
                                </a>
                            </li>
                        </ul>
                        <h3>Account Settings</h3>
                        <ul>
                            <li class="nav-item">
                                <a href="index-2.html" class="nav-link">
                                    <i class="bx bxs-log-out"></i>Đăng xuất
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>


            <div class="col-xl-9 col-lg-9">
                <div class="settings-widget card-details">
                    <div class="settings-menu p-0">
                        <div class="profile-heading">
                            <h3>Cá nhân</h3>
                            <p>Bạn có đầy đủ quyền chỉnh sửa thông tin cá nhân</p>
                        </div>
                        <div class="settings-page-head">
                            <ul class="nav nav-tabs" id="profileTab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="edit-profile-tab" data-toggle="tab" href="#edit-profile" role="tab" aria-controls="edit-profile" aria-selected="true">Chỉnh sửa hồ sơ</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="change-password-tab" data-toggle="tab" href="#change-password" role="tab" aria-controls="change-password" aria-selected="false">Đổi mật khẩu</a>
                                </li>
                            </ul>
                        </div>

                        <div class="tab-content" id="profileTabContent">
                            <!-- Tab Chỉnh sửa hồ sơ -->
                            <div class="tab-pane fade show active" id="edit-profile" role="tabpanel" aria-labelledby="edit-profile-tab">
                                <!-- Nội dung chỉnh sửa hồ sơ của bạn -->
                                <form id="updateProfileForm" action="/Profile/UpdateProfile" method="post">
                                    @Html.AntiForgeryToken()
                                    <!--<div class="course-group profile-upload-group mb-0 d-flex">
                                        <div class="course-group-img profile-edit-field d-flex align-items-center">
                                            <a href="/profile/account" class="profile-pic"><img src="assets/img/user/user16.jpg" alt="Img" class="img-fluid"></a>
                                            <div class="profile-upload-head">
                                                <h4><a href="/profile/account">Your avatar</a></h4>
                                                <p>PNG or JPG no bigger than 800px width and height</p>
                                                <div class="new-employee-field">
                                                    <div class="d-flex align-items-center mt-2">
                                                        <div class="image-upload mb-0">
                                                            <input type="file">
                                                            <div class="image-uploads">
                                                                <i class="bx bx-cloud-upload"></i>
                                                            </div>
                                                        </div>
                                                        <div class="img-delete">
                                                            <a href="#" class="delete-icon"><i class="bx bx-trash"></i></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>-->
                                    <div class="checkout-form settings-wrap">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="input-block">
                                                    <label class="form-label">Họ Tên</label>
                                                    <input type="text" class="form-control" value="@Model.FullName" name="FullName">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="input-block">
                                                    <label class="form-label">Ngày gia nhập</label>
                                                    <input type="datetime" class="form-control" value="@Model.DateJoined" name="DateJoined">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="input-block">
                                                    <label class="form-label">Email</label>
                                                    <input type="text" class="form-control" value="@Model.Email" name="Email">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="input-block">
                                                    <label class="form-label">Số điện thoại</label>
                                                    <input type="text" class="form-control" value="@Model.PhoneNumber" name="PhoneNumber">
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <button class="btn btn-primary" type="submit">Cập nhật hồ sơ</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>

                            <!-- Tab Đổi mật khẩu -->
                            <div class="tab-pane fade" id="change-password" role="tabpanel" aria-labelledby="change-password-tab">
                                <!-- Nội dung đổi mật khẩu -->
                                <form id="passwordForm" action="/Profile/UpdatePassword" method="post">
                                    @Html.AntiForgeryToken()
                                    <div class="checkout-form settings-wrap">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="input-block">
                                                    <label class="form-label">Mật khẩu hiện tại</label>
                                                    <input type="password" class="form-control" name="Password">
                                                </div>
                                                <div class="input-block">
                                                    <label class="form-label">Mật khẩu mới</label>
                                                    <input type="password" class="form-control" name="NewPassword">
                                                </div>
                                                <div class="input-block">
                                                    <label class="form-label">Nhập lại mật khẩu mới</label>
                                                    <input type="password" class="form-control" name="ConfirmPassword">
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <button class="btn btn-primary" type="submit">Đặt lại mật khẩu</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var tabs = document.querySelectorAll('.nav-link');
        var tabContent = document.querySelectorAll('.tab-pane');

        tabs.forEach(function (tab) {
            tab.addEventListener('click', function () {
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                tabContent.forEach(content => content.classList.remove('show', 'active'));
                var target = document.querySelector(tab.getAttribute('href'));
                target.classList.add('show', 'active');
            });
        });
    });

</script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    document.getElementById("submitButton").addEventListener("click", function (e) {
        // Hiển thị SweetAlert để xác nhận
        Swal.fire({
            title: 'Bạn có chắc chắn?',
            text: "Bạn sẽ thay đổi mật khẩu của mình!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Đúng, thay đổi mật khẩu!',
            cancelButtonText: 'Hủy'
        }).then((result) => {
            if (result.isConfirmed) {
                // Nếu người dùng xác nhận, gửi form
                document.getElementById("passwordForm").submit();
            }
        });
    });
</script>
<script>
    document.getElementById("updateProfileButton").addEventListener("click", function (e) {
        // Hiển thị SweetAlert để xác nhận
        Swal.fire({
            title: 'Bạn có chắc chắn?',
            text: "Bạn sẽ cập nhật hồ sơ của mình!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Đúng, cập nhật!',
            cancelButtonText: 'Hủy'
        }).then((result) => {
            if (result.isConfirmed) {
                // Nếu người dùng xác nhận, gửi form
                document.getElementById("updateProfileForm").submit();
            }
        });
    });
</script>